# Yeast-Data

Paper: Wildenhain et al. 2015. "Prediction of Synergism from Chemical-Genetic Interactions by Machine Learning." *Cell Systems* 1 (6): 383-95.
https://doi.org/10.1016/j.cels.2015.12.003

Compound libraries from paper:
- Lopac
- Maybridge1000
- Spectrum    = Microsource Spectrum 2003
- SPECMTS3    = Microsource Spectrum 2005
- Spectrum_ED = Microsource Spectrum 2008
- Bioactive = Yeast Bioactive I
- Cytotoxic = Yeast Bioactive II

# DataScraper.py

For each compound library available on http://chemgrid.org/cgm/index.php, download all compounds vs mutant .csv data files and create chemogenomic matrix.

**Module requirements**:
- pandas (pip install pandas)
- beautifulsoup (pip install beautifulsoup4)
- requests (pip install requests)

**How to run**: *python DataScraper.py*

**Outputs**:
- *Data-Files* folder with sub-folders for each compound library containing compounds vs mutant .csv data files
- *CGM* folder with chemogenomic matrix .csv files for each compound library

**Note**: In CGM output file, y-axis are the compounds in the library & x-axis are the mutants treated against the compounds.

# SMILESScraper.py

**NOTE**: Cannot run on Linux lab computer because of requests_html module requirement.

Get the name and canonical SMILES of all compounds in given library.

**Moduel requirements**:
- pandas (pip install pandas)
- requests (pip install requests)
- requests_html (pip install requests_html) NOTE: Only supported by python3.6+
- beautifulsoup (pip install beautifulsoup4)

**How to run**: *python SMILESScraper.py library_cgm_file*
- library_cgm_file: path from current working directory to CGM file of library to process (eg. CGM\\Bioactive_CGM.csv)

**Outputs**: 
- *Compounds-SMILES* folder with .csv files containing compound ID, name and SMILES string of all compounds in given library, for each compound library

**Note**: Need CGM output files from DataScraper.py to run.

# CompoundStructure.py

For each compound in given library, convert SMILES string into 3D structure and output .pdb file.

**Moduel requirements**:
- OpenBabel (http://openbabel.org/wiki/Main_Page)
- pandas (pip install pandas)

**How to run**: *python CompoundStructure.py library_SMILES_file single_file*
- library_SMILES_file: path from current working directory to SMILES file of library to process (eg. Compound-SMILES\\Bioactive_SMILES.csv)
- single_file: "true" if want output to be single file containing all compounds info for each library

**Outputs**:
- *Compound-3D-Structure* folder with sub-folders for each compound library containing seperate .pdb files of each compounds in given library
- if running with single_file = "true", *Compound-3D-Structure* folder will also contain .pdb files containing all compounds info for each library 

**Note**: Need SMILES output files from SMILESScraper.py.

**Note**: if running with single_file = "true", need .txt file version of library_SMILES_file, where first column = SMILES, second column = compound ID (manually created).

# ConformerLogsParser.py

Parse log file generated by OMEGA conformational search and output .txt file containing info of all molecules with warnings, then collect .pdb files of all molecules with warnings into logs folder.

**How to run**: *python ConformerLogsParser.py*

**Outputs**:
- *Conformers-Logs* folder with filtered log .txt files and sub-folders for each compound library containing .pdb files of compounds with warnings

**Note**: Need log .txt files generated by OMEGA conformational search in *Conformers-Logs* folder. File names must follow format *library_name*.txt

**Note**: Filtered log .txt files will have "_Fails" suffix in file name

# UniqueCompoundStructure.py

For each unique compound defined in SuppTable_S2 of paper, get 3D structure .pdb file generated by CompoundStructure.py and copy into seperate folder, then create .csv file mapping compound ID to compound name.

**Module requirements**:
- pandas (pip install pandas)

**How to run**: *python UniqueCompoundStructure.py*

**Outputs**:
- *Unique-Compound-3D-Structure* folder with .pdb file containing all unique compounds info and .csv file mapping compound ID to name 
- *3D-Structure-Files* sub-folder containing seperate .pdb files of each unique compounds

**Note**: Need .pdb files from CompoundStructure.py.

**Note**: Need modified SuppTable_S2 file called UniqueCompounds.xlsx to work properly.

**Note**: There are actually 4897 unique compounds + 892 compounds from Cytotoxic library (not added by script).

# ClusterProcess.py

Process K-means cluster analysis results for given compound library CGM, and output .json file mapping each compound to cluster.

**Module requirements**:
- pandas (pip install pandas)

**How to run**: *python ClusterProcess.py path_to_cgm*
- path-to-cgm: path to compound library CGM

**Outputs**:
- *Cluster-Maps* folder with .json files for each compound library
- Heatmap .pdf files and .xlsx  files are created and added manually to folder

**Note**: Need CGM files from DataScraper.py and output.txt file from KMeansCluster.r.

# CGMProcess.py

**NOTE**: task dropped.

Find genes overlapping between compound libraries. 
Initially designed to create 1 single CGM from different CGMs, but task dropped.

**Module requirements**:
- pandas (pip install pandas)

**How to run**: *python CGMProcess.py library1 library2 ...*
- library#: name of libraries to process